[build]
  command = "chmod +x entrypoint.sh && python manage.py check --deploy"
  publish = "staticfiles"

[deploy]
  startCommand = "./entrypoint.sh"
  healthcheckPath = "/"
  healthcheckTimeout = 60  # Aumentar el tiempo de espera
  restartDelay = 5
  restartMax = 3
  restartTimeout = 120  # Aumentar el tiempo de espera
  restartWindow = 120   # Aumentar la ventana de reinicio
  zeroDowntime = true

[build.environment]
  PYTHONUNBUFFERED = "1"
  PYTHONPATH = "/app"
  PYTHON_VERSION = "3.11.4"
  NODE_VERSION = "16"

[deploy.environment]
  DEBUG = "False"
  DISABLE_COLLECTSTATIC = "0"  # Habilitar collectstatic
  PYTHONUNBUFFERED = "1"
  PYTHONPATH = "/app"
  PYTHON_VERSION = "3.11.4"
  DJANGO_SETTINGS_MODULE = "mascotas_perdidas.settings"
  PORT = "8000"
  ALLOWED_HOSTS = "*"
  CSRF_TRUSTED_ORIGINS = "https://*.railway.app"
